{{ define "layout_main" }}
{{ template "base" . }}
{{ end }}

{{ define "body" }}
<div class="h-full flex">
    <!-- Sidebar -->
    {{ template "sidebar" . }}

    <!-- Main Content Area -->
    <div class="flex-1 flex flex-col lg:ml-64 transition-[margin] duration-200" id="main-content-wrapper">
        <!-- Top Bar -->
        {{ template "topbar" . }}

        <!-- Page Content -->
        <main class="content-area">
            <div class="py-6">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    {{ block "content" . }}{{ end }}
                </div>
            </div>
        </main>
    </div>
</div>

<!-- Mobile Sidebar Overlay -->
<div id="sidebar-overlay" class="sidebar-overlay lg:hidden"></div>
{{ end }}

{{ define "scripts" }}
<script src="/static/js/sidebar.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        {{ if .flashMessage }}
            showToast('{{ .flashMessage }}', '{{ .flashType }}');
        {{ end }}
    });
</script>
{{ end }}
