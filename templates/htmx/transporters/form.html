{{ define "form.html" }}
<div class="flex flex-col h-full">
    <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
        <h2 class="text-lg font-semibold text-gray-900">{{ if .isEdit }}Edit Transporter{{ else }}Add Transporter{{ end }}</h2>
        <button onclick="closeTransporterSlideOver()" class="text-gray-400 hover:text-gray-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        </button>
    </div>

    {{ if .errors.general }}
    <div class="mx-6 mt-4 p-3 bg-red-50 border border-red-200 rounded-md">
        <p class="text-sm text-red-700">{{ .errors.general }}</p>
    </div>
    {{ end }}

    <form class="flex-1 overflow-y-auto px-6 py-4 space-y-4"
          {{ if .isEdit }}
          hx-post="/projects/{{ .projectID }}/transporters/{{ .transporter.ID }}"
          {{ else }}
          hx-post="/projects/{{ .projectID }}/transporters"
          {{ end }}
          hx-target="#transporter-form-container"
          hx-swap="innerHTML">

        {{ .csrfField }}

        <div>
            <label for="company_name" class="block text-sm font-medium text-gray-700">Company Name <span class="text-red-500">*</span></label>
            <input type="text" name="company_name" id="company_name" value="{{ .transporter.CompanyName }}"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 text-sm {{ if .errors.company_name }}border-red-300{{ end }}"
                   required>
            {{ if .errors.company_name }}<p class="mt-1 text-xs text-red-600">{{ .errors.company_name }}</p>{{ end }}
        </div>

        <div>
            <label for="contact_person" class="block text-sm font-medium text-gray-700">Contact Person</label>
            <input type="text" name="contact_person" id="contact_person" value="{{ .transporter.ContactPerson }}"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 text-sm">
        </div>

        <div>
            <label for="phone" class="block text-sm font-medium text-gray-700">Phone</label>
            <input type="text" name="phone" id="phone" value="{{ .transporter.Phone }}"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 text-sm">
        </div>

        <div>
            <label for="gst_number" class="block text-sm font-medium text-gray-700">GST Number</label>
            <input type="text" name="gst_number" id="gst_number" value="{{ .transporter.GSTNumber }}"
                   placeholder="e.g. 27AABCU9603R1ZM"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 text-sm">
        </div>

        <div class="pt-4 border-t border-gray-200 flex justify-end gap-3">
            <button type="button" onclick="closeTransporterSlideOver()" class="btn btn-secondary text-sm">Cancel</button>
            <button type="submit" class="btn btn-primary text-sm">
                {{ if .isEdit }}Update Transporter{{ else }}Add Transporter{{ end }}
            </button>
        </div>
    </form>
</div>
{{ end }}
