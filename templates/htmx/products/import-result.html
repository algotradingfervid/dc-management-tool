{{ define "import-result.html" }}
{{ if .error }}
<div class="p-3 bg-red-50 border border-red-200 rounded-md">
    <p class="text-sm text-red-700">{{ .error }}</p>
</div>
{{ else if .result }}
<div class="space-y-3">
    <div class="p-3 rounded-md {{ if gt .result.Failed 0 }}bg-yellow-50 border border-yellow-200{{ else }}bg-green-50 border border-green-200{{ end }}">
        <div class="flex items-center gap-4 text-sm">
            <span class="font-medium {{ if gt .result.Failed 0 }}text-yellow-800{{ else }}text-green-800{{ end }}">
                {{ .result.Successful }} of {{ .result.TotalRows }} imported successfully
            </span>
            {{ if gt .result.Failed 0 }}
            <span class="text-red-600">{{ .result.Failed }} failed</span>
            {{ end }}
        </div>
    </div>
    {{ if .result.Errors }}
    <div class="max-h-40 overflow-y-auto">
        <table class="min-w-full text-xs">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-2 py-1 text-left text-gray-500">Row</th>
                    <th class="px-2 py-1 text-left text-gray-500">Field</th>
                    <th class="px-2 py-1 text-left text-gray-500">Error</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-100">
                {{ range .result.Errors }}
                <tr>
                    <td class="px-2 py-1 text-gray-700">{{ .Row }}</td>
                    <td class="px-2 py-1 text-gray-700">{{ .Field }}</td>
                    <td class="px-2 py-1 text-red-600">{{ .Error }}</td>
                </tr>
                {{ end }}
            </tbody>
        </table>
    </div>
    {{ end }}
</div>
<script>
    showToast('{{ .result.Successful }} products imported successfully', 'success');
</script>
{{ end }}
{{ end }}
