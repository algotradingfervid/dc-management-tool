<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Delivery Challan — DC Management Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['DM Sans', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        brand: {
                            50: '#eef2ff',
                            100: '#e0e7ff',
                            200: '#c7d2fe',
                            300: '#a5b4fc',
                            400: '#818cf8',
                            500: '#6366f1',
                            600: '#4f46e5',
                            700: '#4338ca',
                            800: '#3730a3',
                            900: '#312e81',
                            950: '#1e1b4b',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'DM Sans', sans-serif; }

        .card-shadow {
            box-shadow:
                0 0 0 1px rgba(0, 0, 0, 0.03),
                0 1px 2px rgba(0, 0, 0, 0.04),
                0 8px 16px -4px rgba(0, 0, 0, 0.06),
                0 24px 48px -12px rgba(0, 0, 0, 0.05);
        }

        .input-focus:focus {
            outline: none;
            box-shadow: 0 0 0 2px #4f46e5, 0 0 0 4px rgba(79, 70, 229, 0.15);
            border-color: transparent;
        }

        .btn-press:active {
            transform: scale(0.985);
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.625rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #64748b;
            transition: all 150ms;
            text-decoration: none;
        }
        .sidebar-item:hover {
            background-color: #f1f5f9;
            color: #334155;
        }
        .sidebar-item.active {
            background-color: #eef2ff;
            color: #4338ca;
            font-weight: 600;
        }

        .serial-textarea {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9375rem;
            line-height: 1.75;
            letter-spacing: 0.025em;
        }

        @media (max-width: 768px) {
            .serial-textarea {
                font-size: 1.0625rem;
                line-height: 2;
            }
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            right: 0;
            bottom: calc(100% + 4px);
            min-width: 220px;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
            z-index: 50;
            overflow: hidden;
        }
        .dropdown-menu.open { display: block; }
        .dropdown-menu a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.625rem 1rem;
            font-size: 0.875rem;
            color: #334155;
            transition: background 150ms;
            text-decoration: none;
        }
        .dropdown-menu a:hover { background-color: #f8fafc; }

        .confirm-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.4);
            z-index: 100;
            align-items: center;
            justify-content: center;
        }
        .confirm-overlay.open {
            display: flex;
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">

    <!-- Mobile Header -->
    <header class="md:hidden fixed top-0 left-0 right-0 h-14 bg-white border-b border-slate-200 flex items-center px-4 z-40">
        <button onclick="document.getElementById('mobileSidebar').classList.toggle('hidden')" class="p-1.5 -ml-1 rounded-lg hover:bg-slate-100">
            <svg class="w-5 h-5 text-slate-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/></svg>
        </button>
        <span class="ml-3 font-semibold text-slate-800 text-sm">Create Delivery Challan</span>
    </header>

    <!-- Mobile Sidebar Overlay -->
    <div id="mobileSidebar" class="hidden fixed inset-0 z-50 md:hidden">
        <div class="absolute inset-0 bg-black/30" onclick="document.getElementById('mobileSidebar').classList.add('hidden')"></div>
        <nav class="absolute left-0 top-0 bottom-0 w-64 bg-white p-4 space-y-1 overflow-y-auto">
            <div class="flex items-center gap-2.5 px-1 mb-6 mt-1">
                <div class="w-8 h-8 bg-brand-600 rounded-lg flex items-center justify-center">
                    <svg class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15a2.25 2.25 0 012.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25z"/></svg>
                </div>
                <span class="font-bold text-slate-800 text-sm">DC Management</span>
            </div>
            <a href="02-dashboard.html" class="sidebar-item">
                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"/></svg>
                Dashboard
            </a>
            <a href="03-projects-list.html" class="sidebar-item">
                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"/></svg>
                Projects
            </a>
            <a href="16-all-dcs.html" class="sidebar-item active">
                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"/></svg>
                All DCs
            </a>
            <a href="17-serial-search.html" class="sidebar-item">
                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"/></svg>
                Serial Search
            </a>
        </nav>
    </div>

    <div class="flex min-h-screen">
        <!-- Desktop Sidebar -->
        <aside class="hidden md:flex flex-col w-64 bg-white border-r border-slate-200 fixed top-0 bottom-0 left-0 z-30">
            <div class="flex items-center gap-2.5 px-5 h-16 border-b border-slate-200 shrink-0">
                <div class="w-8 h-8 bg-brand-600 rounded-lg flex items-center justify-center">
                    <svg class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15a2.25 2.25 0 012.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25z"/></svg>
                </div>
                <div>
                    <div class="font-bold text-slate-800 text-sm leading-tight">DC Management</div>
                    <div class="text-[11px] text-slate-400 font-medium">Fervid Smart Solutions</div>
                </div>
            </div>
            <nav class="flex-1 p-3 space-y-0.5 overflow-y-auto">
                <a href="02-dashboard.html" class="sidebar-item">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"/></svg>
                    Dashboard
                </a>
                <a href="03-projects-list.html" class="sidebar-item">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"/></svg>
                    Projects
                </a>
                <a href="16-all-dcs.html" class="sidebar-item active">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"/></svg>
                    All DCs
                </a>
                <a href="17-serial-search.html" class="sidebar-item">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"/></svg>
                    Serial Search
                </a>
            </nav>
            <div class="p-3 border-t border-slate-200">
                <div class="flex items-center gap-2.5 px-3 py-2">
                    <div class="w-8 h-8 bg-brand-100 text-brand-700 rounded-full flex items-center justify-center text-xs font-bold">NP</div>
                    <div class="flex-1 min-w-0">
                        <div class="text-sm font-semibold text-slate-700 truncate">Naren P.</div>
                        <div class="text-xs text-slate-400">Admin</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 md:ml-64 pt-14 md:pt-0 pb-24 md:pb-8">
            <!-- Top Bar -->
            <div class="hidden md:flex items-center h-16 px-6 bg-white border-b border-slate-200 sticky top-0 z-20">
                <div class="flex items-center gap-2 text-sm">
                    <a href="16-all-dcs.html" class="text-slate-400 hover:text-slate-600">All DCs</a>
                    <svg class="w-4 h-4 text-slate-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"/></svg>
                    <span class="text-slate-700 font-semibold">Create Delivery Challan</span>
                </div>
            </div>

            <div class="max-w-4xl mx-auto px-4 sm:px-6 py-6 space-y-6">

                <!-- Section 1: Project & Template Selection -->
                <section class="bg-white rounded-xl card-shadow p-5 sm:p-6">
                    <h2 class="text-base font-bold text-slate-800 mb-4">Project & Template</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">Project <span class="text-red-500">*</span></label>
                            <select id="projectSelect" onchange="handleProjectChange()" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all">
                                <option value="">Select a project...</option>
                                <option value="gsws" selected>GSWS UPS Project</option>
                                <option value="aptab">AP Tablets Project</option>
                                <option value="tglap">TG Laptops Phase-II</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">Template <span class="text-red-500">*</span></label>
                            <select id="templateSelect" onchange="handleTemplateChange()" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all">
                                <option value="">Select a template...</option>
                                <option value="ups-battery" selected>UPS + Battery Kit</option>
                                <option value="cable">Cable Kit Only</option>
                                <option value="full">Full Bundle</option>
                            </select>
                        </div>
                    </div>
                    <!-- Info box -->
                    <div class="mt-4 flex items-start gap-2.5 bg-blue-50 border border-blue-100 rounded-lg px-4 py-3">
                        <svg class="w-4 h-4 mt-0.5 shrink-0 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"/></svg>
                        <span class="text-sm text-blue-700 font-medium">Both Transit DC and Official DC will be generated from this form.</span>
                    </div>
                </section>

                <!-- Section 2: DC Information -->
                <section class="bg-white rounded-xl card-shadow p-5 sm:p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-base font-bold text-slate-800">DC Information</h2>
                        <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-amber-100 text-amber-700 border border-amber-200">DRAFT</span>
                    </div>

                    <!-- DC Numbers -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5">Transit DC Number</label>
                            <div class="h-10 px-3 flex items-center text-sm font-mono font-semibold text-slate-700 bg-slate-100 border border-slate-200 rounded-lg">
                                FS/GS/25-26/T/005
                                <span class="ml-auto text-xs text-slate-400 font-sans font-normal">Auto</span>
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5">Official DC Number</label>
                            <div class="h-10 px-3 flex items-center text-sm font-mono font-semibold text-slate-700 bg-slate-100 border border-slate-200 rounded-lg">
                                FS/GS/25-26/D/005
                                <span class="ml-auto text-xs text-slate-400 font-sans font-normal">Auto</span>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">DC Date <span class="text-red-500">*</span></label>
                            <input type="date" value="2026-02-16" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">Purpose</label>
                            <input type="text" value="DELIVERED AS PART OF PROJECT EXECUTION" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all">
                        </div>
                    </div>
                </section>

                <!-- Section 3: Addresses -->
                <section class="bg-white rounded-xl card-shadow p-5 sm:p-6">
                    <h2 class="text-base font-bold text-slate-800 mb-4">Addresses</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">Bill To <span class="text-red-500">*</span></label>
                            <select class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all">
                                <option selected>Fervid Smart Solutions, Hyderabad (Default)</option>
                                <option>Fervid Smart Solutions, Vijayawada</option>
                                <option>Fervid Smart Solutions, Warangal</option>
                            </select>
                            <div class="mt-2 p-3 bg-slate-50 rounded-lg text-xs text-slate-500 leading-relaxed border border-slate-100">
                                Fervid Smart Solutions Pvt. Ltd.<br>
                                Plot 42, SRO Madhapur, HITEC City<br>
                                Hyderabad, Telangana 500081<br>
                                GSTIN: 36AABCF1234A1Z5
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">Ship To <span class="text-red-500">*</span></label>
                            <select class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all">
                                <option value="">Select ship-to address...</option>
                                <option selected>District Collector Office, Warangal</option>
                                <option>District Collector Office, Karimnagar</option>
                                <option>GSWS Office, Hanamkonda</option>
                            </select>
                            <div class="mt-2 p-3 bg-slate-50 rounded-lg text-xs text-slate-500 leading-relaxed border border-slate-100">
                                District Collector Office<br>
                                Hanamkonda, Warangal Urban<br>
                                Telangana 506001<br>
                                GSTIN: 36AABCD5678B1Z2
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section 4: Transport Details -->
                <section class="bg-white rounded-xl card-shadow p-5 sm:p-6">
                    <div class="flex items-center gap-2 mb-1">
                        <h2 class="text-base font-bold text-slate-800">Transport Details</h2>
                    </div>
                    <p class="text-xs text-slate-400 font-medium mb-4">These details appear only on the Transit DC</p>

                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">Mode of Transport</label>
                            <input type="text" value="By Road" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">Driver/Transporter Name</label>
                            <input type="text" placeholder="Enter name" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg placeholder:text-slate-400 hover:border-slate-300 hover:bg-white transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">Vehicle Number</label>
                            <input type="text" value="AP-09-AB-1234" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all font-mono">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">Docket Number <span class="text-slate-400 font-normal">(optional)</span></label>
                            <input type="text" placeholder="Enter docket number" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg placeholder:text-slate-400 hover:border-slate-300 hover:bg-white transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">E-Way Bill Number <span class="text-slate-400 font-normal">(optional)</span></label>
                            <input type="text" placeholder="Enter e-way bill number" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg placeholder:text-slate-400 hover:border-slate-300 hover:bg-white transition-all">
                        </div>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4">
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Reverse Charge</label>
                            <div class="flex items-center gap-5">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="reverseCharge" value="yes" class="w-4 h-4 text-brand-600 border-slate-300 focus:ring-brand-500">
                                    <span class="text-sm text-slate-700">Yes</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="reverseCharge" value="no" checked class="w-4 h-4 text-brand-600 border-slate-300 focus:ring-brand-500">
                                    <span class="text-sm text-slate-700">No</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Tax Type</label>
                            <div class="flex items-center gap-5">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="taxType" value="cgst_sgst" checked class="w-4 h-4 text-brand-600 border-slate-300 focus:ring-brand-500">
                                    <span class="text-sm text-slate-700">CGST + SGST</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="taxType" value="igst" class="w-4 h-4 text-brand-600 border-slate-300 focus:ring-brand-500">
                                    <span class="text-sm text-slate-700">IGST</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section 5: Product Lines -->
                <section class="space-y-4" id="productLines">
                    <h2 class="text-base font-bold text-slate-800 px-1">Product Lines</h2>

                    <!-- Product 1: UPS -->
                    <div class="bg-white rounded-xl card-shadow overflow-hidden">
                        <!-- Product Header -->
                        <div class="bg-slate-50 border-b border-slate-200 px-5 sm:px-6 py-4">
                            <div class="flex flex-wrap items-start justify-between gap-2">
                                <div>
                                    <h3 class="text-sm font-bold text-slate-800">1. UPS &mdash; AVO 1000 1KVA Online UPS</h3>
                                    <p class="text-xs text-slate-500 mt-1">1KVA Online UPS with internal battery backup</p>
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-x-5 gap-y-1 mt-2.5 text-xs text-slate-500">
                                <span>HSN: <strong class="text-slate-700">8504</strong></span>
                                <span>UoM: <strong class="text-slate-700">Nos</strong></span>
                                <span>Brand/Model: <strong class="text-slate-700">AVO 1000</strong></span>
                                <span>Price: <strong class="text-slate-700">&#8377;12,500/unit</strong></span>
                                <span>GST: <strong class="text-slate-700">18%</strong></span>
                            </div>
                        </div>

                        <div class="px-5 sm:px-6 py-5 space-y-4">
                            <!-- Serial Numbers -->
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-1.5">Serial Numbers <span class="text-slate-400 font-normal text-xs">(one per line, scan or type)</span></label>
                                <textarea id="serials1" rows="5" oninput="recalcProduct1()" class="serial-textarea input-focus w-full px-3 py-2.5 text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all resize-y">SN001234
SN001235
SN001236</textarea>
                                <!-- Duplicate warning -->
                                <div class="mt-2 flex items-start gap-2 bg-amber-50 border border-amber-200 rounded-lg px-3 py-2.5">
                                    <svg class="w-4 h-4 mt-0.5 shrink-0 text-amber-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.168 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/></svg>
                                    <span class="text-xs font-medium text-amber-700">Duplicate: <span class="font-mono">SN001234</span> was already used in DC FS/GS/25-26/T/003</span>
                                </div>
                            </div>

                            <!-- Calculated Row -->
                            <div class="bg-slate-50 rounded-lg border border-slate-200 px-4 py-3">
                                <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 text-center">
                                    <div>
                                        <div class="text-[11px] font-semibold text-slate-400 uppercase tracking-wider">Qty</div>
                                        <div id="qty1" class="text-sm font-bold text-slate-800 mt-0.5">3</div>
                                    </div>
                                    <div>
                                        <div class="text-[11px] font-semibold text-slate-400 uppercase tracking-wider">Taxable</div>
                                        <div id="taxable1" class="text-sm font-bold text-slate-800 mt-0.5">&#8377;37,500</div>
                                    </div>
                                    <div>
                                        <div class="text-[11px] font-semibold text-slate-400 uppercase tracking-wider">GST (18%)</div>
                                        <div id="gst1" class="text-sm font-bold text-slate-800 mt-0.5">&#8377;6,750</div>
                                    </div>
                                    <div>
                                        <div class="text-[11px] font-semibold text-slate-400 uppercase tracking-wider">Total</div>
                                        <div id="total1" class="text-sm font-bold text-brand-700 mt-0.5">&#8377;44,250</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Remarks -->
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-1.5">Remarks <span class="text-slate-400 font-normal text-xs">(for Official DC)</span></label>
                                <input type="text" placeholder="Enter remarks for this product line" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg placeholder:text-slate-400 hover:border-slate-300 hover:bg-white transition-all">
                            </div>
                        </div>
                    </div>

                    <!-- Product 2: Battery -->
                    <div class="bg-white rounded-xl card-shadow overflow-hidden">
                        <div class="bg-slate-50 border-b border-slate-200 px-5 sm:px-6 py-4">
                            <div class="flex flex-wrap items-start justify-between gap-2">
                                <div>
                                    <h3 class="text-sm font-bold text-slate-800">2. Battery &mdash; Exide 12V 26Ah SMF</h3>
                                    <p class="text-xs text-slate-500 mt-1">12V 26Ah Sealed Maintenance Free battery for UPS</p>
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-x-5 gap-y-1 mt-2.5 text-xs text-slate-500">
                                <span>HSN: <strong class="text-slate-700">8507</strong></span>
                                <span>UoM: <strong class="text-slate-700">Nos</strong></span>
                                <span>Brand/Model: <strong class="text-slate-700">Exide 12V26</strong></span>
                                <span>Price: <strong class="text-slate-700">&#8377;4,200/unit</strong></span>
                                <span>GST: <strong class="text-slate-700">18%</strong></span>
                            </div>
                        </div>

                        <div class="px-5 sm:px-6 py-5 space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-1.5">Serial Numbers <span class="text-slate-400 font-normal text-xs">(one per line, scan or type)</span></label>
                                <textarea id="serials2" rows="4" oninput="recalcProduct2()" class="serial-textarea input-focus w-full px-3 py-2.5 text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all resize-y">SN101001
SN101002</textarea>
                            </div>

                            <div class="bg-slate-50 rounded-lg border border-slate-200 px-4 py-3">
                                <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 text-center">
                                    <div>
                                        <div class="text-[11px] font-semibold text-slate-400 uppercase tracking-wider">Qty</div>
                                        <div id="qty2" class="text-sm font-bold text-slate-800 mt-0.5">2</div>
                                    </div>
                                    <div>
                                        <div class="text-[11px] font-semibold text-slate-400 uppercase tracking-wider">Taxable</div>
                                        <div id="taxable2" class="text-sm font-bold text-slate-800 mt-0.5">&#8377;8,400</div>
                                    </div>
                                    <div>
                                        <div class="text-[11px] font-semibold text-slate-400 uppercase tracking-wider">GST (18%)</div>
                                        <div id="gst2" class="text-sm font-bold text-slate-800 mt-0.5">&#8377;1,512</div>
                                    </div>
                                    <div>
                                        <div class="text-[11px] font-semibold text-slate-400 uppercase tracking-wider">Total</div>
                                        <div id="total2" class="text-sm font-bold text-brand-700 mt-0.5">&#8377;9,912</div>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-1.5">Remarks <span class="text-slate-400 font-normal text-xs">(for Official DC)</span></label>
                                <input type="text" value="OK" class="input-focus w-full h-10 px-3 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 hover:bg-white transition-all">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section 6: Tax Summary -->
                <section class="bg-white rounded-xl card-shadow p-5 sm:p-6">
                    <div class="flex items-center justify-between mb-4 cursor-pointer" onclick="document.getElementById('taxBody').classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180');">
                        <h2 class="text-base font-bold text-slate-800">Tax Summary</h2>
                        <div class="flex items-center gap-2">
                            <span class="text-xs text-slate-400 font-medium">Transit DC only</span>
                            <svg class="w-4 h-4 text-slate-400 transition-transform md:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>
                        </div>
                    </div>
                    <div id="taxBody">
                        <div class="max-w-sm space-y-2.5">
                            <div class="flex justify-between text-sm">
                                <span class="text-slate-500">Taxable Value</span>
                                <span id="summaryTaxable" class="font-semibold text-slate-700">&#8377;45,900</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-slate-500">CGST (9%)</span>
                                <span id="summaryCgst" class="font-semibold text-slate-700">&#8377;4,131</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-slate-500">SGST (9%)</span>
                                <span id="summarySgst" class="font-semibold text-slate-700">&#8377;4,131</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-slate-500">Round Off</span>
                                <span class="font-semibold text-slate-700">-&#8377;0.00</span>
                            </div>
                            <div class="h-px bg-slate-200 my-1"></div>
                            <div class="flex justify-between text-sm">
                                <span class="font-bold text-slate-800">Invoice Value</span>
                                <span id="summaryTotal" class="font-bold text-brand-700 text-base">&#8377;54,162</span>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-brand-50 rounded-lg border border-brand-100">
                            <p class="text-xs font-semibold text-brand-700">Amount in words</p>
                            <p id="amountWords" class="text-sm text-brand-800 mt-0.5">Rupees Fifty-Four Thousand One Hundred and Sixty-Two Only</p>
                        </div>
                    </div>
                </section>

                <!-- Section 7: Notes -->
                <section class="bg-white rounded-xl card-shadow p-5 sm:p-6">
                    <h2 class="text-base font-bold text-slate-800 mb-4">Notes</h2>
                    <textarea rows="3" placeholder="Optional notes shared by both DC types..." class="input-focus w-full px-3 py-2.5 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-lg placeholder:text-slate-400 hover:border-slate-300 hover:bg-white transition-all resize-y"></textarea>
                </section>

                <!-- Desktop Action Buttons -->
                <div class="hidden md:flex items-center justify-end gap-3 pt-2">
                    <button class="btn-press h-10 px-5 text-sm font-semibold text-slate-600 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-all">
                        Save Draft
                    </button>
                    <div class="relative">
                        <button onclick="togglePreviewMenu('desktopPreview')" class="btn-press h-10 px-5 text-sm font-semibold text-slate-600 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-all flex items-center gap-1.5">
                            Preview
                            <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>
                        </button>
                        <div id="desktopPreview" class="dropdown-menu">
                            <a href="14-transit-dc-detail.html">
                                <svg class="w-4 h-4 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125v-3.375a1.5 1.5 0 00-.832-1.342l-2.393-1.197a1.5 1.5 0 00-.671-.158H14.25M3.75 10.5V6.375a1.125 1.125 0 011.125-1.125h6.026c.299 0 .585.119.796.33l3.281 3.281"/></svg>
                                Preview Transit DC
                            </a>
                            <a href="15-official-dc-detail.html">
                                <svg class="w-4 h-4 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"/></svg>
                                Preview Official DC
                            </a>
                        </div>
                    </div>
                    <button onclick="showConfirmDialog()" class="btn-press h-10 px-6 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 rounded-lg shadow-sm shadow-brand-600/20 transition-all">
                        Issue DC
                    </button>
                </div>

            </div>
        </main>
    </div>

    <!-- Mobile Bottom Bar -->
    <div class="md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 px-4 py-3 flex items-center gap-2.5 z-40">
        <button class="btn-press flex-1 h-10 text-sm font-semibold text-slate-600 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-all">
            Save Draft
        </button>
        <div class="relative flex-1">
            <button onclick="togglePreviewMenu('mobilePreview')" class="btn-press w-full h-10 text-sm font-semibold text-slate-600 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-all flex items-center justify-center gap-1.5">
                Preview
                <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>
            </button>
            <div id="mobilePreview" class="dropdown-menu">
                <a href="14-transit-dc-detail.html">
                    <svg class="w-4 h-4 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125v-3.375a1.5 1.5 0 00-.832-1.342l-2.393-1.197a1.5 1.5 0 00-.671-.158H14.25M3.75 10.5V6.375a1.125 1.125 0 011.125-1.125h6.026c.299 0 .585.119.796.33l3.281 3.281"/></svg>
                    Preview Transit DC
                </a>
                <a href="15-official-dc-detail.html">
                    <svg class="w-4 h-4 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"/></svg>
                    Preview Official DC
                </a>
            </div>
        </div>
        <button onclick="showConfirmDialog()" class="btn-press flex-1 h-10 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 rounded-lg shadow-sm shadow-brand-600/20 transition-all">
            Issue DC
        </button>
    </div>

    <!-- Mobile Tab Bar (below bottom action bar) — hidden since bottom action bar is present -->

    <!-- Confirmation Dialog -->
    <div id="confirmOverlay" class="confirm-overlay" onclick="if(event.target===this)hideConfirmDialog()">
        <div class="bg-white rounded-2xl card-shadow max-w-md w-full mx-4 p-6">
            <div class="flex items-center justify-center w-12 h-12 bg-amber-100 rounded-xl mx-auto mb-4">
                <svg class="w-6 h-6 text-amber-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"/></svg>
            </div>
            <h3 class="text-lg font-bold text-slate-800 text-center">Issue Delivery Challan?</h3>
            <p class="text-sm text-slate-500 text-center mt-2 leading-relaxed">
                This will issue both <strong class="text-slate-700 font-mono text-xs">FS/GS/25-26/T/005</strong> (Transit) and <strong class="text-slate-700 font-mono text-xs">FS/GS/25-26/D/005</strong> (Official). They cannot be edited after issuing.
            </p>
            <div class="flex gap-3 mt-6">
                <button onclick="hideConfirmDialog()" class="btn-press flex-1 h-10 text-sm font-semibold text-slate-600 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-all">Cancel</button>
                <button onclick="hideConfirmDialog()" class="btn-press flex-1 h-10 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 rounded-lg shadow-sm shadow-brand-600/20 transition-all">Yes, Issue Both</button>
            </div>
        </div>
    </div>

    <script>
        // Template data per project
        const templatesByProject = {
            gsws: [
                { value: 'ups-battery', label: 'UPS + Battery Kit' },
                { value: 'cable', label: 'Cable Kit Only' },
                { value: 'full', label: 'Full Bundle' },
            ],
            aptab: [
                { value: 'tablet-basic', label: 'Tablet Basic Kit' },
                { value: 'tablet-cover', label: 'Tablet + Cover Kit' },
            ],
            tglap: [
                { value: 'laptop-std', label: 'Laptop Standard' },
                { value: 'laptop-bag', label: 'Laptop + Bag Bundle' },
            ],
        };

        function handleProjectChange() {
            const project = document.getElementById('projectSelect').value;
            const templateSel = document.getElementById('templateSelect');
            templateSel.innerHTML = '<option value="">Select a template...</option>';
            if (project && templatesByProject[project]) {
                templatesByProject[project].forEach(t => {
                    const opt = document.createElement('option');
                    opt.value = t.value;
                    opt.textContent = t.label;
                    templateSel.appendChild(opt);
                });
            }
        }

        function handleTemplateChange() {
            // In production this would load product lines from the API
        }

        // Product 1 calculation
        function recalcProduct1() {
            const lines = document.getElementById('serials1').value.split('\n').filter(l => l.trim());
            const qty = lines.length;
            const price = 12500;
            const gstRate = 0.18;
            const taxable = qty * price;
            const gst = Math.round(taxable * gstRate);
            const total = taxable + gst;
            document.getElementById('qty1').textContent = qty;
            document.getElementById('taxable1').innerHTML = '&#8377;' + taxable.toLocaleString('en-IN');
            document.getElementById('gst1').innerHTML = '&#8377;' + gst.toLocaleString('en-IN');
            document.getElementById('total1').innerHTML = '&#8377;' + total.toLocaleString('en-IN');
            recalcSummary();
        }

        // Product 2 calculation
        function recalcProduct2() {
            const lines = document.getElementById('serials2').value.split('\n').filter(l => l.trim());
            const qty = lines.length;
            const price = 4200;
            const gstRate = 0.18;
            const taxable = qty * price;
            const gst = Math.round(taxable * gstRate);
            const total = taxable + gst;
            document.getElementById('qty2').textContent = qty;
            document.getElementById('taxable2').innerHTML = '&#8377;' + taxable.toLocaleString('en-IN');
            document.getElementById('gst2').innerHTML = '&#8377;' + gst.toLocaleString('en-IN');
            document.getElementById('total2').innerHTML = '&#8377;' + total.toLocaleString('en-IN');
            recalcSummary();
        }

        function recalcSummary() {
            // Parse from product cards
            const parse = id => parseInt((document.getElementById(id).textContent || '0').replace(/[^\d]/g, '')) || 0;
            const taxable1 = parse('taxable1');
            const taxable2 = parse('taxable2');
            const totalTaxable = taxable1 + taxable2;
            const cgst = Math.round(totalTaxable * 0.09);
            const sgst = cgst;
            const invoiceVal = totalTaxable + cgst + sgst;

            document.getElementById('summaryTaxable').innerHTML = '&#8377;' + totalTaxable.toLocaleString('en-IN');
            document.getElementById('summaryCgst').innerHTML = '&#8377;' + cgst.toLocaleString('en-IN');
            document.getElementById('summarySgst').innerHTML = '&#8377;' + sgst.toLocaleString('en-IN');
            document.getElementById('summaryTotal').innerHTML = '&#8377;' + invoiceVal.toLocaleString('en-IN');
            document.getElementById('amountWords').textContent = numberToWords(invoiceVal);
        }

        function numberToWords(num) {
            if (num === 0) return 'Rupees Zero Only';
            const ones = ['','One','Two','Three','Four','Five','Six','Seven','Eight','Nine','Ten',
                'Eleven','Twelve','Thirteen','Fourteen','Fifteen','Sixteen','Seventeen','Eighteen','Nineteen'];
            const tens = ['','','Twenty','Thirty','Forty','Fifty','Sixty','Seventy','Eighty','Ninety'];

            function convert(n) {
                if (n < 20) return ones[n];
                if (n < 100) return tens[Math.floor(n/10)] + (n%10 ? ' ' + ones[n%10] : '');
                if (n < 1000) return ones[Math.floor(n/100)] + ' Hundred' + (n%100 ? ' and ' + convert(n%100) : '');
                if (n < 100000) return convert(Math.floor(n/1000)) + ' Thousand' + (n%1000 ? ' ' + convert(n%1000) : '');
                if (n < 10000000) return convert(Math.floor(n/100000)) + ' Lakh' + (n%100000 ? ' ' + convert(n%100000) : '');
                return convert(Math.floor(n/10000000)) + ' Crore' + (n%10000000 ? ' ' + convert(n%10000000) : '');
            }
            return 'Rupees ' + convert(num) + ' Only';
        }

        // Preview dropdown
        function togglePreviewMenu(id) {
            const menu = document.getElementById(id);
            const isOpen = menu.classList.contains('open');
            // Close all
            document.querySelectorAll('.dropdown-menu').forEach(m => m.classList.remove('open'));
            if (!isOpen) menu.classList.add('open');
        }

        // Close dropdowns on outside click
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.relative')) {
                document.querySelectorAll('.dropdown-menu').forEach(m => m.classList.remove('open'));
            }
        });

        // Confirm dialog
        function showConfirmDialog() {
            document.getElementById('confirmOverlay').classList.add('open');
        }
        function hideConfirmDialog() {
            document.getElementById('confirmOverlay').classList.remove('open');
        }
    </script>
</body>
</html>